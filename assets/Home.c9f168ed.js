import{b as e,F as b,r as o,u as p,a as N,j as r,c as O,d as I,R as S,e as u,_ as g}from"./index.3e47384e.js";function E({name:t,size:s,url:a}){const[l,c]=t.split(" "),d=l.charAt(0)+c.charAt(0);let i=e("div",{className:"relative inline-flex items-center justify-center w-28 h-28 overflow-hidden bg-gray-100 rounded-full p-3 dark:bg-gray-600",children:a?e("img",{src:a}):e("p",{className:"text-4xl font-medium text-gray-600 dark:text-gray-300",children:d})});switch(s){case"1":i=e(b,{children:a?e("img",{className:"w-12 h-12 rounded-full mx-auto",src:a}):e("p",{className:"text-2xl text-center font-medium  text-gray-600 dark:text-gray-300 ",children:d})});break;case"2":i=e("div",{className:"relative inline-flex items-center justify-center w-12 h-12 overflow-hidden bg-gray-100 rounded-full p-3 dark:bg-gray-600",children:a?e("img",{src:a}):e("p",{className:"text-1xl font-medium text-gray-600 dark:text-gray-300",children:d})});case"4":i=e("div",{className:"relative inline-flex items-center justify-center w-28 h-28 overflow-hidden bg-gray-100 rounded-full p-3 dark:bg-gray-600",children:a?e("img",{src:a}):e("p",{className:"text-4xl font-medium text-gray-600 dark:text-gray-300",children:d})})}return e(b,{children:i})}function R(){const[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(""),[c,d]=o.exports.useState(""),[i,n]=o.exports.useState(!1),h=o.exports.useRef(null),{getUser:m,createUserChat:f}=p(),C=N();function L(){s(!0)}function v(){l(""),d(""),s(!1)}function _(){d("")}function M(){l("")}async function z(A){var w;A.preventDefault(),n(!0),l("");const k=(w=h.current)==null?void 0:w.value;if(!k)return n(!1),l("Please provide a valid user ID.");const x=await m(k);if(x.status==="error")return n(!1),l("No user found with the provided ID please check the ID before trying again.");const y=await f(x==null?void 0:x.data);if(y.status==="error")return n(!1),l(y.message);n(!1),v(),C("/profile/chat/"+y.message)}return{isOpen:t,error:a,closeErrorAlert:M,success:c,closeSuccessAlert:_,handleOpenModal:L,handleCloseModal:v,userIdRef:h,loading:i,handleAddUser:z}}function j({sideBar:t}){const{isOpen:s,error:a,closeErrorAlert:l,success:c,closeSuccessAlert:d,handleOpenModal:i,handleCloseModal:n,userIdRef:h,loading:m,handleAddUser:f}=R();return r(b,{children:[t?r("div",{onClick:i,className:"cursor-pointer block py-4 px-12 border-l-4  hover:bg-gray-300 hover:text-black",children:[e("span",{className:"text-gray-600 inline-block align-text-bottom mr-2",children:r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-user-plus",children:[e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"8.5",cy:"7",r:"4"}),e("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),e("span",{className:"text-gray-600",children:"Add User"})]}):e("span",{onClick:i,className:"cursor-pointer xl:hidden inline-block ml-8 text-gray-700 hover:text-gray-900 align-bottom",children:e("span",{className:"block h-7 w-7 sm:h-12 sm:w-12 flex items-center justify-around rounded-full hover:bg-gray-400",children:r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 sm:h-6 sm:w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"8.5",cy:"7",r:"4"}),e("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})})}),s?r("div",{id:"defaultModal","aria-hidden":"true",className:"flex h-screen fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full",children:[e("div",{className:"fixed inset-0 w-full h-full bg-black opacity-40",onClick:n}),e("div",{className:"relunderlineve w-full h-full max-w-2xl md:h-auto m-auto",children:r("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[r("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add User"}),r("button",{onClick:n,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[e("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e("span",{className:"sr-only",children:"Close modal"})]})]}),r("div",{className:"p-4 ",children:[a&&r("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e("strong",{className:"font-bold",children:"Error"}),r("span",{className:"block",children:[" ",a]}),e("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:l,children:r("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[e("title",{children:"Close"}),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),c&&r("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[e("strong",{className:"font-bold",children:"Success"}),r("span",{className:"block",children:[" ",c]}),e("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:d,children:r("svg",{className:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[e("title",{children:"Close"}),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),e("div",{className:"space-y-6",children:r("div",{children:[e("label",{htmlFor:"userId",className:"block mb-2 text-md font-medium text-gray-900 dark:text-white",children:"User ID"}),e("input",{ref:h,type:"text",name:"userId",placeholder:"user ID",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:!0}),e("p",{className:"text-sm text-gray-500 mt-1",children:"Find your user ID at the settings page"})]})})]}),r("div",{className:"flex items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:[e("button",{disabled:m,onClick:f,type:"button",className:"transition duration-200 ease-in-out disabled:opacity-25 text-white bg-green-600 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Add"}),e("button",{onClick:n,type:"button",className:"transition ease-in-out duration-200 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:"Cancel"})]})]})})]}):null]})}function B({sidebar:t}){const[s,a]=o.exports.useState(!1),[l,c]=o.exports.useState(!1),{logOut:d}=p();function i(){a(!0)}function n(){a(!1)}function h(){c(!0);try{d()}catch{c(!1)}}return r(b,{children:[t?r("div",{onClick:i,className:"absolute bottom-0 w-full cursor-pointer block py-4 px-12 border-l-4 text-gray-600 hover:bg-gray-300 hover:text-black",children:[e("span",{className:"inline-block align-text-bottom mr-2",children:r("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-4 h-4",children:[e("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e("polyline",{points:"16 17 21 12 16 7"}),e("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}),"Log Out"]}):e("div",{onClick:i,className:"cursor-pointer inline-block ml-8 text-gray-700 hover:text-gray-900 align-bottom",children:e("span",{className:"block h-9 w-9 flex items-center justify-around rounded-full hover:bg-gray-400 p-1 rounded-full hover:bg-gray-400",children:e("span",{className:"inline-block align-text-bottom ",children:r("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",viewBox:"0 0 22 22",className:"w-5 h-5",children:[e("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e("polyline",{points:"16 17 21 12 16 7"}),e("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})})}),s?r("div",{id:"defaultModal","aria-hidden":"true",className:"flex h-screen fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full",children:[e("div",{className:"fixed inset-0 w-full h-full bg-black opacity-40",onClick:n}),e("div",{className:"w-300px h-full max-w-2xl md:h-auto m-auto",children:r("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[r("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[e("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Log Out"}),r("button",{onClick:n,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[e("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e("span",{className:"sr-only",children:"Close modal"})]})]}),r("div",{className:"flex items-center p-6 space-x-2 border-gray-200 rounded-b dark:border-gray-600",children:[e("button",{disabled:l,onClick:h,type:"button",className:"transition duration-200 ease-in-out disabled:opacity-25 text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Log Out"}),e("button",{onClick:n,type:"button",className:"transition ease-in-out duration-200 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:"Cancel"})]})]})})]}):null]})}function D(){const{fireStoreUser:t}=p(),s=N(),l=O().pathname.split("/profile")[1];return r("div",{className:"hidden xl:block sm:flex-2 w-64 bg-gray-200 relative",children:[r("div",{className:"user-profile text-center",children:[e("div",{className:"grid place-items-center w-32 h-32 rounded-full m-auto mt-16 border-2 border-white bg-white shadow-lg",children:e(E,{name:`${t==null?void 0:t.firstName} ${t==null?void 0:t.lastName}`,url:t==null?void 0:t.profilePictureURL,size:"4"})}),r("div",{className:"text-gray-800 mt-8 text-3xl font-medium break-words",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})]}),r("div",{className:"menu mt-8",children:[r("div",{onClick:()=>s("./chats"),className:`cursor-pointer block py-4 px-12 border-l-4 ${l==="/chats"?"border-gray-800 bg-gray-300 text-black":"text-gray-600"} hover:bg-gray-300 hover:text-black`,children:[e("span",{className:"inline-block align-text-bottom mr-2",children:e("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6",children:e("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),"Chat"]}),r("div",{onClick:()=>s("./friends"),className:`cursor-pointer block py-4 px-12 border-l-4 ${l==="/friends"?"border-gray-800 bg-gray-300 text-black":"text-gray-600"} hover:bg-gray-300 hover:text-black`,children:[e("span",{className:"inline-block align-text-bottom mr-2",children:e("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6",children:e("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),"Friends"]}),e(j,{sideBar:!0}),r("div",{onClick:()=>s("./settings"),className:`cursor-pointer block py-4 px-12 border-l-4 ${l==="/settings"?"border-gray-800 bg-gray-300 text-black":"text-gray-600"} hover:bg-gray-300 hover:text-black`,children:[e("span",{className:"inline-block align-text-bottom mr-2",children:r("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6",children:[e("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),"Settings"]})]}),e(B,{sidebar:!0})]})}function P({children:t}){return e("div",{className:"w-screen h-screen",children:r("div",{className:"flex h-full",children:[e(D,{}),t]})})}const U=o.exports.lazy(()=>g(()=>import("./Chats.0d707c6a.js"),["assets/Chats.0d707c6a.js","assets/index.3e47384e.js","assets/index.3fe71c94.css","assets/Header.d37665be.js"])),H=o.exports.lazy(()=>g(()=>import("./FindChat.de8f9646.js"),["assets/FindChat.de8f9646.js","assets/index.3e47384e.js","assets/index.3fe71c94.css"])),V=o.exports.lazy(()=>g(()=>import("./SingleChat.ca0dfd7f.js"),["assets/SingleChat.ca0dfd7f.js","assets/FindChat.de8f9646.js","assets/index.3e47384e.js","assets/index.3fe71c94.css","assets/Header.d37665be.js"])),F=o.exports.lazy(()=>g(()=>import("./Friends.1322a73b.js"),["assets/Friends.1322a73b.js","assets/index.3e47384e.js","assets/index.3fe71c94.css","assets/Header.d37665be.js"])),T=o.exports.lazy(()=>g(()=>import("./Settings.16074347.js"),["assets/Settings.16074347.js","assets/index.3e47384e.js","assets/index.3fe71c94.css","assets/Header.d37665be.js","assets/ResetPasswordModal.0aa62d35.js"])),W=o.exports.lazy(()=>g(()=>import("./ChatsErrorPage.a3535c0a.js"),["assets/ChatsErrorPage.a3535c0a.js","assets/index.3e47384e.js","assets/index.3fe71c94.css"]));function $(){const{chats:t}=p();return e(P,{children:e(o.exports.Suspense,{fallback:e(I,{}),children:r(S,{children:[e(u,{path:"/chats",element:e(U,{chats:t})}),e(u,{path:"/chat/:chatId",element:e(H,{}),children:e(u,{index:!0,element:e(V,{chats:t})})}),e(u,{path:"/friends",element:e(F,{chats:t})}),e(u,{path:"/settings",element:e(T,{})}),e(u,{path:"*",element:e(W,{})})]})})})}const G=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{E as A,G as H,B as L,j as a};
