import{r as s,u as M,a as U,j as r,F as j,b as e}from"./index.f530364c.js";import{M as q}from"./MainHeader.0b1e0cfd.js";function A(){const n=s.exports.useRef(null),o=s.exports.useRef(null),i=s.exports.useRef(null),d=s.exports.useRef(null),c=s.exports.useRef(null),u=s.exports.useRef(null),m=s.exports.useRef(null),[x,a]=s.exports.useState(""),[p,l]=s.exports.useState(!1);function N(){a("")}const{signUpWithEmail:C}=M(),R=U();async function P(z){z.preventDefault(),a(""),l(!0);const w=t=>t.replace(/(^\w|\s\w)(\S*)/g,(V,L,S)=>L.toUpperCase()+S.toLowerCase()),f=w(n.current.value.trim()),h=w(o.current.value.trim()),g=i.current.value.trim(),E=d.current.value.trim(),y=c.current.value,F=u.current.value,b=m.current.files[0];if(y.length<6)return l(!1),a("Weak Password.");if(g!==E)return l(!1),a("Emails do not match.");if(y!==F)return l(!1),a("Passwords do not match.");if(f.length<2||h.length<2)return l(!1),a("Please provide valid first and last name.");const v=/^[a-zA-Z ]+$/;if(!v.test(f.trim())||!v.test(h.trim()))return l(!1),a("First and Last name can only contain alphabetical values.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(g.trim()))return l(!1),a("Please provide a valid Email.");if(f.length>20||h.length>20)return l(!1),a("First and last names should not be longer than 20 characters each.");if(g.length>80)return l(!1),a("Email should not be longer than 80 characters.");const k=["image/jpeg","image/png","image/svg+xml"];if(b){if(!k.includes(b.type))return l(!1),a("File format is unacceptable, please upload SVG, PNG or JPG only");if(b.size/1e6>1)return l(!1),a("Photo is too big, maximum size for profile pictures is 1MB")}try{const t=await C(f,h,g,y,b);t.status==="success"?R("/profile/chats"):(l(!1),a(t.message))}catch(t){l(!1),a(t)}}return{firstNameRef:n,lastNameRef:o,emailRef:i,emailConfirmRef:d,passwordRef:c,passwordConfirmRef:u,profilePicRef:m,loading:p,handleSignUp:P,error:x,closeErrorAlert:N}}function H(){const{firstNameRef:n,lastNameRef:o,emailRef:i,emailConfirmRef:d,passwordRef:c,passwordConfirmRef:u,profilePicRef:m,loading:x,handleSignUp:a,error:p,closeErrorAlert:l}=A();return r(j,{children:[e(q,{}),e("div",{className:"flex min-h-full items-center justify-center py-4 px-4 sm:px-6 lg:px-8",children:r("div",{className:"w-full max-w-lg space-y-8",children:[e("div",{children:e("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create an account"})}),r("form",{className:"space-y-4 rounded border-2	p-4",onSubmit:a,children:[p&&r("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e("strong",{className:"font-bold",children:"Error"}),r("span",{className:"block",children:[" ",p]}),e("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:l,children:r("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[e("title",{children:"Close"}),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),e("input",{type:"hidden",name:"remember",value:"true"}),r("div",{className:"-space-y-px rounded-md ",children:[e("h1",{className:"mb-2 text-lg",children:"Name"}),r("div",{children:[e("label",{htmlFor:"first-name",className:"sr-only",children:"First Name"}),e("input",{ref:n,maxLength:20,name:"name",type:"name",autoComplete:"name",required:!0,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm lg:text-base",placeholder:"First Name"})]}),r("div",{children:[e("label",{htmlFor:"last-name",className:"sr-only",children:"Last Name"}),e("input",{ref:o,maxLength:20,name:"name",type:"name",autoComplete:"name",required:!0,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm lg:text-base",placeholder:"Last Name"})]})]}),r("div",{className:"-space-y-px rounded-md",children:[e("h1",{className:"mb-2 text-lg",children:"Email Address"}),r("div",{children:[e("label",{htmlFor:"email-address",className:"sr-only",children:"Email"}),e("input",{ref:i,maxLength:80,name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm lg:text-base",placeholder:"Email"})]}),r("div",{children:[e("label",{htmlFor:"email-address",className:"sr-only",children:"Confirm Email"}),e("input",{ref:d,maxLength:80,name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm lg:text-base",placeholder:"Confirm email"})]})]}),r("div",{className:"-space-y-px rounded-md",children:[e("h1",{className:"mb-2 text-lg",children:"Password"}),r("div",{children:[e("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e("input",{ref:c,name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm lg:text-base",placeholder:"Password"})]}),r("div",{children:[e("label",{htmlFor:"password",className:"sr-only",children:"Confirm Password"}),e("input",{ref:u,name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm lg:text-base",placeholder:"Confirm password"})]})]}),r("div",{className:"-space-y-px rounded-md",children:[e("h1",{className:"mb-2 text-lg",children:"Profile Picture"}),r("div",{children:[e("input",{className:"cursor-pointer",ref:m,type:"file"}),e("p",{className:"text-sm text-gray-500 dark:text-gray-300",id:"file_input_help",children:"SVG, PNG or JPG (Max 1MB)."})]})]}),e("div",{children:r("button",{disabled:x,type:"submit",className:"group relative flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})})}),"Sign Up"]})})]})]})})]})}export{H as default};
