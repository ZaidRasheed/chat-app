import{r as t,u as y,a as w,j as r,F as v,b as e,L as N}from"./index.f530364c.js";import{R}from"./ResetPasswordModal.63618544.js";import{M as k}from"./MainHeader.0b1e0cfd.js";function L(){const s=t.exports.useRef(null),l=t.exports.useRef(null),o=t.exports.useRef(null),[d,a]=t.exports.useState(""),[n,i]=t.exports.useState(!1),{logIn:u}=y(),m=w();function p(){a("")}async function h(b){b.preventDefault(),a(""),i(!0);const f=s.current.value.trim(),g=l.current.value,x=o.current.checked;try{await u(f,g,x),m("/profile/chats")}catch(c){switch(c.code){case"auth/user-not-found":{a("A username with this email doesn't exist, try signing up instead.");break}case"auth/wrong-password":{a("Wrong password please try again.");break}case"auth/too-many-requests":{a("Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later.");break}case"auth/user-disabled":{a("Account has been disabled.");break}default:console.log(c),a("Failed to login.")}i(!1)}}return{emailRef:s,passwordRef:l,rememberRef:o,loading:n,handleLogin:h,error:d,closeErrorAlert:p}}function F(){const{emailRef:s,passwordRef:l,rememberRef:o,loading:d,handleLogin:a,error:n,closeErrorAlert:i}=L();return r(v,{children:[e(k,{}),e("div",{className:"flex min-h-full items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r("div",{className:"w-full max-w-md space-y-8",children:[r("div",{children:[e("img",{className:"mx-auto h-12 w-auto",src:"./chatIcon.png",alt:"Logo"}),e("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),r("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or ",e(N,{to:"/sign-up",children:e("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign Up"})})]})]}),r("form",{className:"mt-8 space-y-6",onSubmit:a,children:[n&&r("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e("strong",{className:"font-bold",children:"Error"}),r("span",{className:"block",children:[" ",n]}),e("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:i,children:r("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[e("title",{children:"Close"}),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),e("input",{type:"hidden",name:"remember",value:"true"}),r("div",{className:"-space-y-px rounded-md shadow-sm",children:[r("div",{children:[e("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),e("input",{ref:s,id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Email address"})]}),r("div",{children:[e("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e("input",{ref:l,id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Password"})]})]}),r("div",{className:"flex items-center justify-between ",children:[r("div",{className:"flex items-center",children:[e("input",{ref:o,id:"remember-me",name:"remember-me",type:"checkbox",className:"cursor-pointer h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e("label",{htmlFor:"remember-me",className:"cursor-pointer ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e(R,{})]}),e("div",{children:r("button",{disabled:d,type:"submit",className:"group relative flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})})}),"Sign in"]})})]})]})})]})}export{F as default};
